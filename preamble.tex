% Support alternating row colours in tables. Normal usage is to
% include the xcolor package with option `table', but the xcolor
% package is already getting pulled in from somewhere else which
% causes builds to fail with a package options conflict.
%
% See: http://tex.stackexchange.com/a/5375
%
\PassOptionsToPackage{table}{xcolor}

%%%%
%% Load the class. Put any options that you want here (see the documentation
%% for the list of options). The following are samples for each type of
%% thesis:
%%
%% Note: you can also specify any of the following options:
%%  logo: put a University of Edinburgh logo onto the title page
%%  frontabs: put the abstract onto the title page
%%  deptreport: produce a title page that fits into a Computer Science
%%      departmental cover [not sure if this actually works]
%%  singlespacing, fullspacing, doublespacing: choose line spacing
%%  oneside, twoside: specify a one-sided or two-sided thesis
%%  10pt, 11pt, 12pt: choose a font size
%%  centrechapter, leftchapter, rightchapter: alignment of chapter headings
%%  sansheadings, normalheadings: headings and captions in sans-serif
%%      (default) or in the same font as the rest of the thesis
%%  [no]listsintoc: put list of figures/tables in table of contents (default:
%%      not)
%%  romanprepages, plainprepages: number the preliminary pages with Roman
%%      numerals (default) or consecutively with the rest of the thesis
%%  parskip: don't indent paragraphs, put a blank line between instead
%%  abbrevs: define a list of useful abbreviations (see documentation)
%%  draft: produce a single-spaced, double-sided thesis with narrow margins
%%
%% MSc by Research, which also needs an institute
\documentclass[phd,icsa,logo,twoside,openright]{infthesis}

% Set these values to control the nesting level of the table of contents.
% A level of 0 means chapter level.
%\setcounter{secnumdepth}{0}
%\setcounter{tocdepth}{0}

\usepackage{todonotes}

% Enable floating algorithm environments. To float an algorithm use:
%   \begin{algorithm}{t}{lop}
\usepackage{float}

\usepackage[utf8]{inputenc}

\usepackage[%
backend=biber,
style=alphabetic,
maxbibnames=99,  % no "et al." in the bibliography.
% style=numeric-comp,  % numerical-compressed
% sorting=none,        % nty,nyt,nyvt,anyt,anyvt,ynt,ydnt,none
sortcites=true,      % sort \cite{b a d c}: true,false
block=none,          % space between blocks: none,space,par,nbpar,ragged
indexing=false,      % indexing options: true,false,cite,bib
citereset=none,      % don't reset cites
isbn=false,          % print ISBN?
url=true,            % print URL?
doi=false,           % print DOI?
natbib=true,         % natbib compatability
]{biblatex}

\addbibresource{refs.bib}


% Tables.
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hhline}
\usepackage{xspace}
\usepackage[table]{xcolor}

% Define column types L, C, R with known text justification and fixed widths:
\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

% needed for \upgammar
\usepackage{upgreek}


% Source code listings.
\usepackage{listings,lstautogobble}
\lstset{%
  basicstyle=\small,%
  numbers=left,%
  xleftmargin=1em,
  framexleftmargin=2.5em,
  framexrightmargin=-2em,
  escapeinside={@|}{|@},
  frame=b,
  breaklines=true,
  postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\color{red}\hookrightarrow\space}},% red arrow at line breaks
  captionpos=b,
  autogobble=true % indent listing based on first line
}

% Commands to supress and reset line numbers.
\let\origthelstnumber\thelstnumber

\newcommand*\Suppressnumber{%
  \lst@AddToHook{OnNewLine}{%
    \let\thelstnumber\relax%
     \advance\c@lstnumber-\@ne\relax%
    }%
}

\newcommand*\Reactivatenumber{%
  \lst@AddToHook{OnNewLine}{%
   \let\thelstnumber\origthelstnumber%
   \advance\c@lstnumber\@ne\relax}%
}

% OpenCL listings
%
% From:
% http://gpumodeling.blogspot.com/2011/06/opencl-programs-in-latex-listings.html
\lstdefinelanguage[OpenCL]{C}[ANSI]{C}
{morekeywords={__kernel,kernel,__local,local,__global,global,%
    __constant,constant,__private,private,%
    __read_only,read_only,__write_only,write_only,%
    char2,char3,char4,char8,char16,%
    uchar2,uchar3,uchar4,uchar8,uchar16,%
    short2,short3,short4,short8,short16,%
    ushort2,ushort3,ushort4,ushort8,ushort16,%
    int2,int3,int4,int8,int16,%
    uint2,uint3,uint4,uint8,uint16,%
    long2,long3,long4,long8,long16,%
    ulong2,ulong3,ulong4,ulong8,ulong16,%
    float2,float3,float4,float8,float16,%
    image2d_t,image3d_t,sampler_t,event_t,size_t,%
    bool2,bool3,bool4,bool8,bool16,%
    half2,half3,half4,half8,half16,%
    quad,quad2,quad3,quad4,quad8,quad16,%
    complex,imaginary,barrier},%
}

% Math symbols
\usepackage{amssymb}
\usepackage{bm}
\usepackage{amsmath}
% Extra operators to use in math environments:
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\gain}{Gain}

\usepackage{mathtools}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}

\usepackage{tikz}
\def\checkmark{\tikz\fill[scale=0.2](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;}

\usepackage{amssymb}
\usepackage{pifont}
\usepackage{multirow}
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}

\newcommand\bc{\textbf{bc}\xspace}
\newcommand\bto{\textbf{bto}\xspace}
\newcommand\abf{\textbf{abf}\xspace}
\newcommand\arc{\textbf{arc}\xspace}
\newcommand\awo{\textbf{awo}\xspace}

% Use either 'subfig' or 'subcaption', NOT BOTH!
\usepackage[caption=false]{subfig}

% Provide generic commands \degree, \celsius, \perthousand, \micro
% and \ohm which work both in text and maths mode.
\usepackage{gensymb}

% Pseudo-code listings.
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}

%\algrenewcommand\ALG@beginalgorithmic{\footnotesize}
%\algrenewcommand{\algorithmiccomment}[1]{\bgroup\hfill\footnotesize\it~#1\egroup}
%\algnewcommand\algorithmicto{\textbf{to}}

\usepackage{amsmath}

\usepackage{filecontents}
\usepackage{pgfplots, pgfplotstable}
\usepgfplotslibrary{statistics}

% Enable \includepdf{} command.
\usepackage{pdfpages}

% Use \lispum for placeholder text.
\usepackage{lipsum}

\newenvironment{laysummary}
  {\renewcommand{\abstractname}{Lay Summary}\begin{mainabs}}
  {\end{mainabs}\renewcommand{\abstractname}{Abstract}}

\captionsetup[subfigure]{labelformat=parens}

% Clickable cross-references.
\usepackage{hyperref}
% \usepackage[hidelinks]{hyperref}
