\section{Experimental Setup}
\label{sec:deepsmith-experimental-setup}

This section describes the experimental parameters used for a testing campaign of OpenCL compilers.

\subsection{OpenCL Systems}

Testing was conducted on 10 OpenCL systems, summarised in Table~\ref{tab:deepsmith-platforms}. A broad range of hardware was covered: 3 GPUs, 4 CPUs, a co-processor, and an emulator. 7 of the compilers tested are commercial products, 3 of them are open source. This suite of systems includes both combinations of different drivers for the same device, and different devices using the same driver.

\begin{table}
  \centering %
  \subfloat[][]{\input{tab/deepsmith-platforms-a}}%
  \\%
  \subfloat[][]{\input{tab/deepsmith-platforms-b}} %
  \caption[OpenCL systems and the number of bug reports submitted to date]{%
    OpenCL systems and the number of bug reports submitted to date (22\% of which have been fixed, the remainder are pending). For each system, two testbeds are created, one with compiler optimisations, the other without.%
  }
  \label{tab:deepsmith-platforms}
\end{table}

\subsection{Testbeds}

For each OpenCL system, two testbeds are created. In the first, the compiler is run with optimisations disabled. In the second, optimisations are enabled. Each testbed is then a triple, consisting of \emph{\textless device, driver, is\_optimised\textgreater} settings. This mechanism gives 20 testbeds to evaluate.


\subsection{Test Cases}

Inputs are created for each generated program as described in Section~\ref{sec:test-harness}. The test harness is parameterised by a number of threads to use. Two test cases are generated, one using one thread, the other using 2048 threads. A test case is then a triple, consisting of \emph{\textless program, inputs, threads\textgreater} settings.

\subsection{Bug Search Time Allowance}

DeepSmith and CLSmith are compared by allowing both to run for 48 hours on each of the 20 testbeds. CLSmith used its default configuration. The total runtime for a test case consists of the generation and execution time.
